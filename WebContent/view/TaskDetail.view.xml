<mvc:View
	controllerName="com.tasky.controller.TaskDetail"
	xmlns="sap.m"
	xmlns:core="sap.ui.core"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:semantic="sap.m.semantic"
	xmlns:layout="sap.ui.layout"
	xmlns:form="sap.ui.layout.form">
	<semantic:DetailPage>

		<semantic:pagingAction>
			<PagingButton count="{/Tasks/Count}" positionChange="onChangeTask" />
		</semantic:pagingAction>
		<semantic:saveAction>
			<semantic:SaveAction text="{i18n>ACTIONS.SAVE}" press="onPressSave" />
		</semantic:saveAction>

		<form:SimpleForm
	        maxContainerCols="2"
	        editable="true"
	        layout="ResponsiveGridLayout"
	        labelSpanL="3" labelSpanM="3"
	        emptySpanL="2" emptySpanM="2"
	        columnsL="2" columnsM="2">
			<form:content>
				<core:Title />
				<Label text="{i18n>TASK.TITLE}" design="Bold" />
				<Input id="titleField"
					value="{/SelectedTask/title}" />
				<Label text="{i18n>TASK.DESCRIPTION}" design="Bold" />
				<TextArea id="descriptionField"
					value="{/SelectedTask/description}" />

				<core:Title />
				<Label text="{i18n>TASK.STATUS}" design="Bold" />
				<Select id="taskStatusDropdown"
					width="15rem"
					forceSelection="false"
					selectedKey="none"
					items="{taskMetadata>/TaskStatuses}"
					change="onChangeTaskStatus">
					<core:Item key="{taskMetadata>key}" text="{taskMetadata>value}" />
				</Select>
				<Label text="{i18n>TASK.OWNER}" design="Bold" />
				<Text id="ownerDisplay"
					text="{/SelectedTask/ownerId}" design="Bold" />
			</form:content>
		</form:SimpleForm>


		<Label text="{i18n>TASK.COMMENTS}" design="Bold" />
		<List id="commentsList"
			items="{/SelectedTask/Comments}"
			showSeparators="Inner"
			noDataText="{i18n>GENERAL.APP.NOCOMMENTS}">
			<items>
				<FeedListItem
					sender="{ownerId}"
					icon="sap-icon://person-placeholder"
					senderPress="onPressCommentOwner"
					iconPress="onPressCommentIcon"
					info="{type}"
					text="{text}" />
			</items>
		</List>
		<FeedInput
			icon="sap-icon://person-placeholder"
			post="onCommentPost" />

        <footer>
			<Bar>
                <contentRight>
    				<Button id="saveButton"
                        icon="sap-icon://save"
                        text="{i18n>ACTIONS.SAVE}"
                        type="Accept"
                        press="onPressSave" />
    			</contentRight>
            </Bar>
		</footer>
	</semantic:DetailPage>
</mvc:View>
